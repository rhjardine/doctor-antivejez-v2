<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Test Edad Bioquímica</title>
  <link rel="stylesheet" href="edad_bioquimica.css">
  <!-- Asegúrate de tener FontAwesome y Google Fonts si es necesario -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <header>
    <h1>Test Edad Bioquímica</h1>
  </header>

  <div class="container">
    <form id="bioquimica-form">
      <h2>Datos del Test</h2>
      <div class="form-grid">
        <div class="form-group">
          <label for="igf1">Somatomedina C (IGF-1) (ng/ml)</label>
          <input type="number" id="igf1" placeholder="Ingrese valor">
        </div>
        <div class="form-group">
          <label for="hbglyc">Hb Glicosilada (%)</label>
          <input type="number" step="0.1" id="hbglyc" placeholder="Ingrese valor">
        </div>
        <div class="form-group">
          <label for="insulinaBasal">Insulina Basal</label>
          <input type="number" id="insulinaBasal" placeholder="Ingrese valor">
        </div>
        <div class="form-group">
          <label for="postPrandial">Post Prandial (mui/ml)</label>
          <input type="number" id="postPrandial" placeholder="Ingrese valor">
        </div>
        <div class="form-group">
          <label for="tg_hdl">Relación TG: mg/dL - HDL</label>
          <input type="text" id="tg_hdl" placeholder="Ingrese valor">
        </div>
        <div class="form-group">
          <label for="dhea">DHEA-S (ug/dl)</label>
          <input type="number" id="dhea" placeholder="Ingrese valor">
        </div>
        <div class="form-group">
          <label for="homocisteina">Homocisteína (umol/L)</label>
          <input type="number" id="homocisteina" placeholder="Ingrese valor">
        </div>
        <div class="form-group">
          <label for="psa">PSA Total / Libre (%)</label>
          <input type="number" id="psa" placeholder="Ingrese valor">
        </div>
        <div class="form-group">
          <label for="fsh">FSH UI/L</label>
          <input type="number" id="fsh" placeholder="Ingrese valor">
        </div>
        <div class="form-group">
          <label for="densitometria">Densitometría ósea (F)</label>
          <input type="number" id="densitometria" placeholder="Ingrese valor">
        </div>
      </div>

      <h2>Resultados</h2>
      <div class="result-fields">
        <div class="result-field">
          <label>Edad Cronológica</label>
          <input type="number" id="edadCrono" value="47" readonly>
        </div>
        <div class="result-field">
          <label>Edad Bioquímica</label>
          <input type="number" id="edadBioq" value="0" readonly>
        </div>
        <div class="result-field">
          <label>Edad Diferencial</label>
          <input type="text" id="edadDiferencial" value="0 Menos" readonly>
        </div>
      </div>

      <div class="form-buttons center">
        <button type="button" onclick="calcularEdadBioquimica()"><i class="fas fa-calculator"></i> Calcular</button>
        <button type="submit"><i class="fas fa-save"></i> Guardar</button>
      </div>
    </form>
  </div>

  <script>
    // Función simulada para calcular la edad bioquímica.
    function calcularEdadBioquimica() {
      const edadCrono = parseFloat(document.getElementById('edadCrono').value);
      // Obtención y suma de valores de los campos (simulación)
      const campos = ['igf1', 'hbglyc', 'insulinaBasal', 'postPrandial', 'tg_hdl', 'dhea', 'homocisteina', 'psa', 'fsh', 'densitometria'];
      let suma = 0;
      let contador = 0;
      
      campos.forEach(id => {
        const val = parseFloat(document.getElementById(id).value);
        if (!isNaN(val)) {
          suma += val;
          contador++;
        }
      });
      
      // Cálculo simulado: promedio de los valores (puedes reemplazarlo por la fórmula real)
      const edadBioq = contador ? (suma / contador) : 0;
      document.getElementById('edadBioq').value = edadBioq.toFixed(2);
      
      const diferencial = (edadBioq - edadCrono).toFixed(2);
      document.getElementById('edadDiferencial').value = diferencial + (diferencial < 0 ? ' Menos' : ' Más');
    }
    
    document.getElementById('bioquimica-form').addEventListener('submit', function(e) {
      e.preventDefault();
      alert('Datos guardados correctamente (simulado).');
      // Aquí se implementaría el envío de datos al backend
    });
  </script>
</body>
</html>
